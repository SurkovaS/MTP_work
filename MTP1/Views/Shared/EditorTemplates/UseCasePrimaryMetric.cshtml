@using MTP1.Service.Factory
@model MTP1.Models.UseCasePrimaryMetric
<div class="editor-label">
<div class="display-label">Проект</div>
<div class="editor-field">
    @{
        var queryProjects = ProjectServiceFactory.Create().Get().Select(item => new { item.ID, Name = item.Title }).ToList();
        List<SelectListItem> listProjects = queryProjects.Select(item => new SelectListItem { Text = item.Name.ToString(), Value = item.ID.ToString(), Selected = this.Model != null && this.Model.Project == item.ID }).ToList();
        @this.Html.DropDownListFor(model => model.Project, listProjects, "...")

    } 
      
</div>
<div class="display-label">Программа тестирования</div>
<div class="editor-field">
@{
    var queryPrograms = TestProgramServiceFactory.Create().Get().Select(item => new { item.ID, Name = item.Title }).ToList();
    List<SelectListItem> listPrograms = queryPrograms.Select(item => new SelectListItem { Text = item.Name, Value = item.ID.ToString(), Selected = this.Model != null && this.Model.Program == item.ID }).ToList();
    @this.Html.DropDownListFor(model => model.Program, listPrograms, "...")

}
    
<div class="display-label">Use Case</div>
<div class="editor-field">
@{
    var queryUseCases = UseCaseServiceFactory.Create().Get().Select(item => new { item.ID, Name = item.Title }).ToList();
    List<SelectListItem> listUseCases = queryUseCases.Select(item => new SelectListItem { Text = item.Name.ToString(), Value = item.ID.ToString(), Selected = this.Model != null && this.Model.UseCase == item.ID }).ToList();
    @this.Html.DropDownListFor(model => model.UseCase, listUseCases, "...")

}

<div>
</div>
<div class="editor-label">
    Первичная метрика
</div>
<div class="editor-field">
    @{
        var queryPMetrics = PrimaryMetricDicServiceFactory.Create().Get().Select(item => new { item.ID, Name = item.Title }).ToList();
        List<SelectListItem> listPMetrics = queryPMetrics.Select(item => new SelectListItem { Text = item.Name.ToString(), Value = item.ID.ToString(), Selected = this.Model != null && this.Model.Type == item.ID }).ToList();
        @this.Html.DropDownListFor(model => model.Type, listPMetrics, "...")

    } 
</div>
<div class="editor-label">
    Значение
</div>
<div class="editor-field">
    @this.Html.EditorFor(model => model.Value)
    @this.Html.ValidationMessageFor(model => model.Value)
</div>


